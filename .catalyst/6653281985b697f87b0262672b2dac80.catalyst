{"title":{"en":"D. Dog Walking","ru":"D. Прогулка с собакой"},"contestId":"1680","problemIndex":"D","timeLimit":{"en":"4 seconds","ru":"4 секунды"},"memLimit":{"en":"256 megabytes","ru":"256 мегабайт"},"inputFormat":{"en":"standard input","ru":"стандартный ввод"},"outputFormat":{"en":"standard output","ru":"стандартный вывод"},"problemHtml":{"en":"<p>You are walking with your dog, and now you are at the promenade. The promenade can be represented as an infinite line. Initially, you are in the point $$$0$$$ with your dog. </p><p>You decided to give some freedom to your dog, so you untied her and let her run for a while. Also, you watched what your dog is doing, so you have some writings about how she ran. During the $$$i$$$-th minute, the dog position changed from her previous position by the value $$$a_i$$$ (it means, that the dog ran for $$$a_i$$$ meters during the $$$i$$$-th minute). If $$$a_i$$$ is positive, the dog ran $$$a_i$$$ meters to the right, otherwise (if $$$a_i$$$ is negative) she ran $$$a_i$$$ meters to the left.</p><p>During some minutes, you were chatting with your friend, so you don't have writings about your dog movement during these minutes. These values $$$a_i$$$ equal zero.</p><p>You want your dog to return to you after the end of the walk, so the destination point of the dog after $$$n$$$ minutes <span class=\"tex-font-style-bf\">should be</span> $$$0$$$.</p><p>Now you are wondering: what is the maximum possible number of different <span class=\"tex-font-style-bf\">integer points</span> of the line your dog could visit on her way, if you replace every $$$0$$$ with some integer from $$$-k$$$ to $$$k$$$ (and your dog <span class=\"tex-font-style-bf\">should</span> return to $$$0$$$ after the walk)? The dog visits an integer point if she runs through that point or reaches in it at the end of any minute. Point $$$0$$$ is always visited by the dog, since she is initially there.</p><p>If the dog cannot return to the point $$$0$$$ after $$$n$$$ minutes regardless of the integers you place, print <span class=\"tex-font-style-tt\">-1</span>.</p>","ru":"<p>Вы гуляете со своей собакой и сейчас дошли до набережной. Набережная может быть представлена как бесконечная прямая. Изначально вы находитесь в точке $$$0$$$ со своей собакой. </p><p>Вы решили предоставить немного свободы своей собаке, поэтому вы отвязали ее от поводка и дали ей немного побегать. Также вы смотрели, что собака делает, поэтому у вас есть некоторые записи с информацией о ее беге. В течение $$$i$$$-й минуты позиция собаки изменялась относительно ее предыдущей позиции на значение $$$a_i$$$ (это значит, что собака пробежала $$$a_i$$$ метров в течение $$$i$$$-й минуты). Если $$$a_i$$$ положительно, собака пробежала $$$a_i$$$ метров направо, иначе (если $$$a_i$$$ отрицательно) она пробежала $$$a_i$$$ метров налево.</p><p>В некоторые минуты вы переписывались в мессенджере со своим другом, поэтому у вас нет записей о передвижениях вашей собаки в эти минуты. Эти значения $$$a_i$$$ равны нулю.</p><p>Вы хотите, чтобы ваша собака вернулась к вам в конце прогулки, поэтому последняя точка назначения собаки после $$$n$$$ минут <span class=\"tex-font-style-bf\">должна быть</span> равна $$$0$$$.</p><p>Вам стало интересно: чему равно максимально возможное количество различных <span class=\"tex-font-style-bf\">целочисленных точек</span> на прямой, которые могла посетить ваша собака, если вы замените каждый $$$0$$$ на какое-то целое число от $$$-k$$$ до $$$k$$$ (и ваша собака <span class=\"tex-font-style-bf\">обязана</span> вернуться в $$$0$$$ после прогулки)? Собака посещает целочисленную точку, если она пробегает мимо нее или встает в ней в конце любой минуты. Точка $$$0$$$ всегда является посещенной, потому что она изначально находится в ней.</p><p>Если собака не может вернуться в точку $$$0$$$ после $$$n$$$ минут вне зависимости от того, как вы заполните пропуски, выведите <span class=\"tex-font-style-tt\">-1</span>.</p>"},"inSpecsHtml":{"en":"<div class=\"section-title\">Input</div><p>The first line of the input contains two integers $$$n$$$ and $$$k$$$ ($$$1 \\le n \\le 3000; 1 \\le k \\le 10^9$$$) — the number of minutes and the maximum possible speed of your dog during the minutes without records.</p><p>The second line of the input contains $$$n$$$ integers $$$a_1, a_2, \\ldots, a_n$$$ ($$$-10^9 \\le a_i \\le 10^9$$$), where $$$a_i$$$ is the number of meters your dog ran during the $$$i$$$-th minutes (to the left if $$$a_i$$$ is negative, to the right otherwise). If $$$a_i = 0$$$ then this value is <span class=\"tex-font-style-bf\">unknown</span> and can be replaced with any integer from the range $$$[-k; k]$$$.</p>","ru":"<div class=\"section-title\">Входные данные</div><p>Первая строка входных данных содержит два целых числа $$$n$$$ и $$$k$$$ ($$$1 \\le n \\le 3000; 1 \\le k \\le 10^9$$$) — количество минут и максимально возможная скорость вашей собаки в минуты с отсутствующими записями.</p><p>Вторая строка входных данных содержит $$$n$$$ целых чисел $$$a_1, a_2, \\ldots, a_n$$$ ($$$-10^9 \\le a_i \\le 10^9$$$), где $$$a_i$$$ равно количеству метров, которые ваша собака пробежала в течение $$$i$$$-й минуты (влево, если $$$a_i$$$ отрицательно и направо, если оно положительно). Если $$$a_i = 0$$$, то это значение <span class=\"tex-font-style-bf\">неизвестно</span> и может быть заменено на любое целое число из отрезка $$$[-k; k]$$$.</p>"},"outSpecsHtml":{"en":"<div class=\"section-title\">Output</div><p>If the dog cannot return to the point $$$0$$$ after $$$n$$$ minutes regardless of the set of integers you place, print <span class=\"tex-font-style-tt\">-1</span>. Otherwise, print one integer — the maximum number of <span class=\"tex-font-style-bf\">different</span> integer points your dog could visit if you fill all the unknown values optimally and the dog will return to the point $$$0$$$ at the end of the walk.</p>","ru":"<div class=\"section-title\">Выходные данные</div><p>Если собака не может вернуться в точку $$$0$$$ после $$$n$$$ минут вне зависимости от того, как вы заполните пропуски, выведите <span class=\"tex-font-style-tt\">-1</span>. Иначе выведите одно целое число — максимальное количество <span class=\"tex-font-style-bf\">различных</span> целочисленных точек, которые ваша собака могла бы посетить, если бы вы заполнили пропуски оптимально, и собака вернулась бы в $$$0$$$ в конце прогулки.</p>"},"noteHtml":{"en":null,"ru":null},"sampleTestcases":[{"id":1652596122063,"input":"3 2\n5 0 -4\n","output":"6\n"},{"id":1652596122064,"input":"6 4\n1 -2 0 3 -4 5\n","output":"7\n"},{"id":1652596122065,"input":"3 1000000000\n0 0 0\n","output":"1000000001\n"},{"id":1652596122066,"input":"5 9\n-7 -3 8 12 0\n","output":"-1\n"},{"id":1652596122067,"input":"5 3\n-1 0 3 3 0\n","output":"7\n"},{"id":1652596122068,"input":"5 4\n0 2 0 3 0\n","output":"9\n"}],"submitUrl":"https://codeforces.com/contest/1680/submit","language":"c++","isPartOfContest":true}